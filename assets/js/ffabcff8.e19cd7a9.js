"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[4747],{5777(e,n,r){r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>a,frontMatter:()=>t,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"api/tjs-readline.Class.ReadlineInterface","title":"Class: ReadlineInterface","description":"A readline interface for interactive line editing.","source":"@site/docs/api/tjs-readline.Class.ReadlineInterface.md","sourceDirName":"api","slug":"/api/tjs-readline.Class.ReadlineInterface","permalink":"/docs/api/tjs-readline.Class.ReadlineInterface","draft":false,"unlisted":false,"editUrl":"https://github.com/saghul/txiki.js/tree/master/website/docs/api/tjs-readline.Class.ReadlineInterface.md","tags":[],"version":"current","frontMatter":{},"sidebar":"apiSidebar","previous":{"title":"Function: createInterface()","permalink":"/docs/api/tjs-readline.Function.createInterface"},"next":{"title":"Interface: InterfaceOptions","permalink":"/docs/api/tjs-readline.Interface.InterfaceOptions"}}');var i=r(4848),l=r(8453);const t={},d="Class: ReadlineInterface",c={},o=[{value:"Constructors",id:"constructors",level:2},{value:"Constructor",id:"constructor",level:3},{value:"Returns",id:"returns",level:4},{value:"Properties",id:"properties",level:2},{value:"cursor",id:"cursor",level:3},{value:"history",id:"history",level:3},{value:"line",id:"line",level:3},{value:"multiline",id:"multiline",level:3},{value:"Methods",id:"methods",level:2},{value:"[asyncIterator]()",id:"asynciterator",level:3},{value:"Returns",id:"returns-1",level:4},{value:"addHistoryEntry()",id:"addhistoryentry",level:3},{value:"Parameters",id:"parameters",level:4},{value:"entry",id:"entry",level:5},{value:"Returns",id:"returns-2",level:4},{value:"clearLine()",id:"clearline",level:3},{value:"Returns",id:"returns-3",level:4},{value:"close()",id:"close",level:3},{value:"Returns",id:"returns-4",level:4},{value:"moveCursor()",id:"movecursor",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"dx",id:"dx",level:5},{value:"Returns",id:"returns-5",level:4},{value:"question()",id:"question",level:3},{value:"Parameters",id:"parameters-2",level:4},{value:"prompt",id:"prompt",level:5},{value:"Returns",id:"returns-6",level:4},{value:"readline()",id:"readline",level:3},{value:"Returns",id:"returns-7",level:4},{value:"write()",id:"write",level:3},{value:"Parameters",id:"parameters-3",level:4},{value:"text",id:"text",level:5},{value:"Returns",id:"returns-8",level:4}];function h(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",hr:"hr",p:"p",strong:"strong",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"class-readlineinterface",children:"Class: ReadlineInterface"})}),"\n",(0,i.jsx)(n.p,{children:"A readline interface for interactive line editing."}),"\n",(0,i.jsx)(n.p,{children:"Supports full line editing with Emacs-style key bindings, history navigation,\ntab completion, and syntax colorization when connected to a terminal.\nFalls back to simple line-buffered input for non-TTY streams."}),"\n",(0,i.jsx)(n.h2,{id:"constructors",children:"Constructors"}),"\n",(0,i.jsx)(n.h3,{id:"constructor",children:"Constructor"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"new ReadlineInterface"}),"(): ",(0,i.jsx)(n.code,{children:"ReadlineInterface"})]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"returns",children:"Returns"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"ReadlineInterface"})}),"\n",(0,i.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,i.jsx)(n.h3,{id:"cursor",children:"cursor"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"readonly"})," ",(0,i.jsx)(n.strong,{children:"cursor"}),": ",(0,i.jsx)(n.code,{children:"number"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The current cursor position in the line buffer (read-only)."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"history",children:"history"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"history"}),": ",(0,i.jsx)(n.code,{children:"string"}),"[]"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The history array. Can be read or replaced."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"line",children:"line"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"readonly"})," ",(0,i.jsx)(n.strong,{children:"line"}),": ",(0,i.jsx)(n.code,{children:"string"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The current line buffer (read-only)."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"multiline",children:"multiline"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"multiline"}),": ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Whether multiline mode is enabled."}),"\n",(0,i.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,i.jsx)(n.h3,{id:"asynciterator",children:"[asyncIterator]()"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"[asyncIterator]"}),"(): ",(0,i.jsx)(n.code,{children:"AsyncIterableIterator"}),"<",(0,i.jsx)(n.code,{children:"string"}),">"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Async iterator that yields lines until EOF or close."}),"\n",(0,i.jsx)(n.h4,{id:"returns-1",children:"Returns"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"AsyncIterableIterator"}),"<",(0,i.jsx)(n.code,{children:"string"}),">"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"addhistoryentry",children:"addHistoryEntry()"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"addHistoryEntry"}),"(",(0,i.jsx)(n.code,{children:"entry"}),"): ",(0,i.jsx)(n.code,{children:"void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Add an entry to the history."}),"\n",(0,i.jsx)(n.p,{children:"The entry is trimmed and deduplicated against the last history entry."}),"\n",(0,i.jsx)(n.h4,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsx)(n.h5,{id:"entry",children:"entry"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"string"})}),"\n",(0,i.jsx)(n.p,{children:"The history entry to add."}),"\n",(0,i.jsx)(n.h4,{id:"returns-2",children:"Returns"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"void"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"clearline",children:"clearLine()"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"clearLine"}),"(): ",(0,i.jsx)(n.code,{children:"void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Clear the current line on the terminal. No-op if not a terminal."}),"\n",(0,i.jsx)(n.h4,{id:"returns-3",children:"Returns"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"void"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"close",children:"close()"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"close"}),"(): ",(0,i.jsx)(n.code,{children:"void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Close the interface."}),"\n",(0,i.jsxs)(n.p,{children:["Restores terminal mode, releases stream locks, and resolves any pending\nreadline with ",(0,i.jsx)(n.code,{children:"null"}),". Ends async iteration."]}),"\n",(0,i.jsx)(n.h4,{id:"returns-4",children:"Returns"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"void"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"movecursor",children:"moveCursor()"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"moveCursor"}),"(",(0,i.jsx)(n.code,{children:"dx"}),"): ",(0,i.jsx)(n.code,{children:"void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Move the cursor by a delta on the terminal."}),"\n",(0,i.jsx)(n.h4,{id:"parameters-1",children:"Parameters"}),"\n",(0,i.jsx)(n.h5,{id:"dx",children:"dx"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"number"})}),"\n",(0,i.jsx)(n.p,{children:"Number of positions to move (positive = right, negative = left)."}),"\n",(0,i.jsx)(n.h4,{id:"returns-5",children:"Returns"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"void"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"question",children:"question()"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"question"}),"(",(0,i.jsx)(n.code,{children:"prompt"}),"): ",(0,i.jsx)(n.code,{children:"Promise"}),"<",(0,i.jsx)(n.code,{children:"string"}),">"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Display a one-shot prompt and read a line."}),"\n",(0,i.jsxs)(n.p,{children:["Like ",(0,i.jsx)(n.a,{href:"#readline",children:"readline"})," but temporarily overrides the prompt string."]}),"\n",(0,i.jsx)(n.h4,{id:"parameters-2",children:"Parameters"}),"\n",(0,i.jsx)(n.h5,{id:"prompt",children:"prompt"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"string"})}),"\n",(0,i.jsx)(n.p,{children:"The prompt to display."}),"\n",(0,i.jsx)(n.h4,{id:"returns-6",children:"Returns"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"Promise"}),"<",(0,i.jsx)(n.code,{children:"string"}),">"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"readline",children:"readline()"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"readline"}),"(): ",(0,i.jsx)(n.code,{children:"Promise"}),"<",(0,i.jsx)(n.code,{children:"string"}),">"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Read a single line from input."}),"\n",(0,i.jsxs)(n.p,{children:["Displays the configured prompt and waits for the user to submit a line.\nReturns ",(0,i.jsx)(n.code,{children:"null"})," on EOF (Ctrl+D on empty line) or after ",(0,i.jsx)(n.a,{href:"#close",children:"close"})," is called."]}),"\n",(0,i.jsx)(n.h4,{id:"returns-7",children:"Returns"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"Promise"}),"<",(0,i.jsx)(n.code,{children:"string"}),">"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"write",children:"write()"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"write"}),"(",(0,i.jsx)(n.code,{children:"text"}),"): ",(0,i.jsx)(n.code,{children:"void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Write text to the output stream."}),"\n",(0,i.jsx)(n.h4,{id:"parameters-3",children:"Parameters"}),"\n",(0,i.jsx)(n.h5,{id:"text",children:"text"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"string"})}),"\n",(0,i.jsx)(n.p,{children:"The text to write."}),"\n",(0,i.jsx)(n.h4,{id:"returns-8",children:"Returns"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"void"})})]})}function a(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453(e,n,r){r.d(n,{R:()=>t,x:()=>d});var s=r(6540);const i={},l=s.createContext(i);function t(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);